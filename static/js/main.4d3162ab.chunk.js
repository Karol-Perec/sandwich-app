(this["webpackJsonpsandwich-app"]=this["webpackJsonpsandwich-app"]||[]).push([[0],{14:function(e,t,n){e.exports={BreadBottom:"Ingredient_BreadBottom__1tPta",BreadTop:"Ingredient_BreadTop__1EYaA",Seeds1:"Ingredient_Seeds1__r7smi",Seeds2:"Ingredient_Seeds2__22qGS",Ham:"Ingredient_Ham__31xA2",Cheese:"Ingredient_Cheese__3ACZS",Salad:"Ingredient_Salad__m2Nsf",Bacon:"Ingredient_Bacon__2BQfD"}},20:function(e,t,n){e.exports={SideDrawer:"SideDrawer_SideDrawer__2vria",Open:"SideDrawer_Open__bQ1T1",Close:"SideDrawer_Close__1l0Po",Logo:"SideDrawer_Logo__1--6Z"}},24:function(e,t,n){e.exports={BuildControl:"BuildControl_BuildControl__1gNjI",Label:"BuildControl_Label__2DGAt",Less:"BuildControl_Less__1PzlG",More:"BuildControl_More__22mCX"}},27:function(e,t,n){e.exports={Toolbar:"Toolbar_Toolbar__1Dbq_",Logo:"Toolbar_Logo__2ZEct",DesktopOnly:"Toolbar_DesktopOnly__s6jM_"}},28:function(e,t,n){e.exports={Input:"FormInput_Input__3KckB",InputElement:"FormInput_InputElement__Pca0f",Invalid:"FormInput_Invalid__35QZd"}},35:function(e,t,n){e.exports={NavigationItem:"NavigationItem_NavigationItem__hT7Wx",active:"NavigationItem_active__1eytb"}},36:function(e,t,n){e.exports={BuildControls:"BuildControls_BuildControls__i7Xys",OrderButton:"BuildControls_OrderButton__RuHm1",enable:"BuildControls_enable__1dw82"}},37:function(e,t,n){e.exports={Button:"Button_Button__2R2ns",Success:"Button_Success__3VvLA",Danger:"Button_Danger__jR-zq"}},48:function(e,t,n){e.exports={Footer:"Footer_Footer__2tIkr"}},49:function(e,t,n){e.exports={Logo:"Logo_Logo__vveA3"}},50:function(e,t,n){e.exports={NavigationItems:"NavigationItems_NavigationItems__1asSk"}},51:function(e,t,n){e.exports={Backdrop:"Backdrop_Backdrop__2tvfo"}},52:function(e,t,n){e.exports={DrawerToggle:"DrawerToggle_DrawerToggle__1aXKJ"}},53:function(e,t,n){e.exports={Content:"Layout_Content__2Ot6E"}},55:function(e,t,n){e.exports={Modal:"Modal_Modal__3v1Ja"}},56:function(e,t,n){e.exports={Sandwich:"Sandwich_Sandwich__4-E5Q"}},57:function(e,t,n){e.exports={Spinner:"Spinner_Spinner__39gUm","lds-ring":"Spinner_lds-ring__3ac3c"}},58:function(e,t,n){e.exports={CheckoutSummary:"CheckoutSummary_CheckoutSummary__1Lyiw"}},59:function(e,t,n){e.exports={ContactData:"ContactData_ContactData__jqj35"}},60:function(e,t,n){e.exports={Order:"Order_Order__2FR0Y"}},61:function(e,t,n){e.exports={Orders:"Orders_Orders__cvLc4"}},72:function(e,t,n){},93:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(0),a=n.n(r),i=n(25),s=n.n(i);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=n(15),d=n(8),l=n(16),j=n(47),u=(n(72),n(3)),b=n(7),O=n(48),h=n.n(O),p=function(){return Object(c.jsx)("footer",{className:h.a.Footer,children:Object(c.jsx)("div",{children:"The Sandwich Company"})})},x=n.p+"static/media/logo.ec69c7f6.png",m=n(49),_=n.n(m),f=function(){return Object(c.jsx)("div",{className:_.a.Logo,children:Object(c.jsx)(o.b,{to:"/",children:Object(c.jsx)("img",{src:x,alt:"Sandwiches"})})})},g=n(50),v=n.n(g),C=n(35),N=n.n(C),k=function(e){var t=e.link,n=e.exact,r=e.children;return Object(c.jsx)("li",{className:N.a.NavigationItem,children:Object(c.jsx)(o.c,{to:t,exact:n,activeClassName:N.a.active,children:r})})},S=function(){return Object(c.jsxs)("ul",{className:v.a.NavigationItems,children:[Object(c.jsx)(k,{link:"/",exact:!0,children:"Sandwich Builder"}),Object(c.jsx)(k,{link:"/orders",children:"Orders"})]})},y=n(51),w=n.n(y),B=function(e){var t=e.show,n=e.onClick;return t?Object(c.jsx)("div",{className:w.a.Backdrop,onClick:n}):null},I=n(20),D=n.n(I),T=function(e){var t=e.show,n=e.onBackdropClick,r=[D.a.SideDrawer,D.a.Close];return t&&(r=[D.a.SideDrawer,D.a.Open]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(B,{show:t,onClick:n}),Object(c.jsxs)("div",{className:r.join(" "),children:[Object(c.jsx)("div",{className:D.a.Logo,children:Object(c.jsx)(f,{})}),Object(c.jsx)("nav",{children:Object(c.jsx)(S,{})})]})]})},E=n(52),L=n.n(E),R=function(e){var t=e.onClick;return Object(c.jsxs)("div",{className:L.a.DrawerToggle,onClick:t,children:[Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{})]})},A=n(27),F=n.n(A),P=function(e){var t=e.onDrawerToggleClick;return Object(c.jsxs)("header",{className:F.a.Toolbar,children:[Object(c.jsx)(R,{onClick:t}),Object(c.jsx)("div",{className:F.a.Logo,children:Object(c.jsx)(f,{})}),Object(c.jsx)("nav",{className:F.a.DesktopOnly,children:Object(c.jsx)(S,{})})]})},H=n(53),q=n.n(H),M=function(e){var t=e.children,n=Object(r.useState)(!1),a=Object(b.a)(n,2),i=a[0],s=a[1];return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(P,{onDrawerToggleClick:function(){s((function(e){return!e}))}}),Object(c.jsx)(T,{onBackdropClick:function(){s(!1)},show:i}),Object(c.jsx)("main",{className:q.a.Content,children:t}),Object(c.jsx)(p,{})]})},U=n(2),z=n(54),Y=n.n(z).a.create({baseURL:"https://sandwich-app-37958.firebaseio.com/"}),Z="ADD_INGREDIENT",G="REMOVE_INGREDIENT",W="SET_INGREDIENTS",X="FETCH_INGREDIENTS_FAILED",J="PURCHASE_INIT",Q="PURCHASE_SANDWICH_START",V="PURCHASE_SANDWICH_SUCCESS",$="PURCHASE_SANDWICH_FAIL",K=function(){return function(e){Y.get("/ingredients.json").then((function(t){var n;e((n=t.data,{type:W,ingredients:n}))})).catch((function(){return e({type:X})}))}},ee=function(e){return function(t){t({type:Q}),Y.post("/orders.json",e).then((function(n){console.log(n),t(function(e,t){return{type:V,orderId:e,orderData:t}}(n.data.name,e))})).catch((function(e){t(function(e){return{type:$,error:e}}(e))}))}},te=n(55),ne=n.n(te),ce=function(e){var t=e.show,n=e.onBackdropClick,r=e.children;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(B,{show:t,onClick:n}),Object(c.jsx)("div",{className:ne.a.Modal,style:{transform:t?"translateY(0)":"translateY(-100vh)",opacity:t?"1":"0"},children:r})]})},re=function(e,t){return e.show===t.show&&e.children===t.children},ae=a.a.memo(ce,re),ie=function(e,t){return function(n){var a=Object(r.useState)(null),i=Object(b.a)(a,2),s=i[0],o=i[1],d=t.interceptors.request.use((function(e){return o(null),e})),l=t.interceptors.response.use((function(e){return e}),(function(e){return o(e)}));Object(r.useEffect)((function(){return function(){t.interceptors.request.eject(d),t.interceptors.request.eject(l)}}));return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(ae,{show:s,onBackdropClick:function(){o(null)},children:null===s||void 0===s?void 0:s.message}),Object(c.jsx)(e,Object(U.a)({},n))]})}},se=n(36),oe=n.n(se),de=n(24),le=n.n(de),je=function(e){var t=e.label,n=e.removed,r=e.disabled,a=e.added;return Object(c.jsxs)("div",{className:le.a.BuildControl,children:[Object(c.jsx)("div",{className:le.a.Label,children:t}),Object(c.jsx)("button",{className:le.a.Less,onClick:n,disabled:r,children:"Less"}),Object(c.jsx)("button",{className:le.a.More,onClick:a,children:"More"})]})},ue=[{label:"Salad",type:"salad"},{label:"Bacon",type:"bacon"},{label:"Cheese",type:"cheese"},{label:"Ham",type:"ham"}],be=function(e){var t=e.ingredientAdded,n=e.ingredientRemoved,r=e.disabled,a=e.price,i=e.purchaseable,s=e.ordered,o=ue.map((function(e){return Object(c.jsx)(je,{label:e.label,added:function(){return t(e.type)},removed:function(){return n(e.type)},disabled:r[e.type]},e.label)}));return Object(c.jsxs)("div",{className:oe.a.BuildControls,children:[Object(c.jsxs)("p",{children:["Current Price: ",Object(c.jsxs)("strong",{children:["USD ",a.toFixed(2)]})]}),o,Object(c.jsx)("button",{className:oe.a.OrderButton,disabled:!i,onClick:s,children:"ORDER"})]})},Oe=n(4),he=n(56),pe=n.n(he),xe=n(14),me=n.n(xe),_e="bread-bottom",fe="bread-top",ge="ham",ve="cheese",Ce="bacon",Ne="salad",ke=function(e){var t=null;switch(e.type){case _e:t=Object(c.jsx)("div",{className:me.a.BreadBottom});break;case fe:t=Object(c.jsxs)("div",{className:me.a.BreadTop,children:[Object(c.jsx)("div",{className:me.a.Seeds1}),Object(c.jsx)("div",{className:me.a.Seeds2})]});break;case ge:t=Object(c.jsx)("div",{className:me.a.Ham});break;case ve:t=Object(c.jsx)("div",{className:me.a.Cheese});break;case Ce:t=Object(c.jsx)("div",{className:me.a.Bacon});break;case Ne:t=Object(c.jsx)("div",{className:me.a.Salad});break;default:t=null}return t},Se=function(e){var t=e.ingredients,n=t?Object.keys(t).map((function(e){return Object(Oe.a)(Array(t[e])).map((function(t,n){return Object(c.jsx)(ke,{type:e},e+n)}))})).reduce((function(e,t){return e.concat(t)}),[]):[];return 0===n.length&&(n=Object(c.jsx)("p",{children:"Please start adding ingredients"})),Object(c.jsxs)("div",{className:pe.a.Sandwich,children:[Object(c.jsx)(ke,{type:"bread-top"}),n,Object(c.jsx)(ke,{type:"bread-bottom"})]})},ye=n(37),we=n.n(ye),Be=function(e){var t=e.onClick,n=e.type,r=e.buttonType,a=e.children;return Object(c.jsx)("button",{className:[we.a.Button,we.a[r]].join(" "),onClick:t,type:n,children:a})},Ie=function(e){var t=e.ingredients,n=e.price,r=e.purchaseCancelled,a=e.purchaseContinued,i=Object.keys(t).map((function(e){return Object(c.jsxs)("li",{children:[Object(c.jsx)("span",{style:{textTransform:"capitalize"},children:e}),":"," ",t[e]]},e)}));return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h3",{children:"Your Order"}),Object(c.jsx)("p",{children:"Your best personalized sandwich includes: "}),Object(c.jsx)("ul",{children:i}),Object(c.jsx)("p",{children:Object(c.jsxs)("strong",{children:["Total Price: ",n.toFixed(2)]})}),Object(c.jsx)("p",{children:"Proceed to Checkout?"}),Object(c.jsx)(Be,{buttonType:"Danger",onClick:r,children:"CANCEL"}),Object(c.jsx)(Be,{buttonType:"Success",onClick:a,children:"CONTINUE"})]})},De=n(57),Te=n.n(De),Ee=function(){return Object(c.jsxs)("div",{className:Te.a.Spinner,children:[Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{})]})},Le=ie((function(e){var t=e.history,n=Object(r.useState)(!1),a=Object(b.a)(n,2),i=a[0],s=a[1],o=Object(d.c)((function(e){return e.sandwichBuilder.ingredients})),l=Object(d.c)((function(e){return e.sandwichBuilder.totalPrice})),j=Object(d.c)((function(e){return e.sandwichBuilder.error})),u=Object(d.b)();Object(r.useEffect)((function(){u(K())}),[u]);var O=function(){s(!1)},h=Object(U.a)({},o);for(var p in h)h[p]=h[p]<=0;var x=null,m=j?Object(c.jsx)("p",{children:"Ingredients can't be loaded"}):Object(c.jsx)(Ee,{});return o&&(m=Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(Se,{ingredients:o})," ",Object(c.jsx)(be,{ingredientAdded:function(e){u(function(e){return{type:Z,ingredientName:e}}(e))},ingredientRemoved:function(e){u(function(e){return{type:G,ingredientName:e}}(e))},disabled:h,price:l,purchaseable:Object.values(o).reduce((function(e,t){return e+t}),0)>0,ordered:function(){s(!0)}})]}),x=Object(c.jsx)(Ie,{ingredients:o,purchaseCancelled:O,purchaseContinued:function(){t.push("/checkout"),u({type:J})},price:l})),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(ae,{show:i,onBackdropClick:O,children:x}),m]})}),Y),Re=n(58),Ae=n.n(Re),Fe=function(e){var t=e.ingredients,n=e.onCheckoutCancelled,r=e.onCheckoutContinued;return Object(c.jsxs)("div",{className:Ae.a.CheckoutSummary,children:[Object(c.jsx)("h1",{children:"We hope it testes well!"}),Object(c.jsx)("div",{style:{width:"100%",margin:"auto"},children:Object(c.jsx)(Se,{ingredients:t})}),Object(c.jsx)(Be,{buttonType:"Danger",onClick:n,children:"CANCEL"}),Object(c.jsx)(Be,{buttonType:"Success",onClick:r,children:"CONTINUE"})]})},Pe=n(62),He=n(21),qe=n(59),Me=n.n(qe),Ue=n(28),ze=n.n(Ue),Ye=function(e){var t=e.invalid,n=e.elementType,r=e.inputRef,a=null,i=[ze.a.InputElement];switch(t&&i.push(ze.a.Invalid),n){case"name":a=Object(c.jsx)("input",{type:"text",name:"name",placeholder:"Your name",ref:r({required:!0,maxLength:20}),className:i.join(" ")});break;case"street":a=Object(c.jsx)("input",{type:"text",name:"street",placeholder:"Street",ref:r({required:!0,maxLength:20}),className:i.join(" ")});break;case"zipCode":a=Object(c.jsx)("input",{type:"text",name:"zipCode",placeholder:"Zip code",ref:r({required:!0,pattern:{value:/^\d{2}-\d{3}$/i,message:"invalid zip code"}}),className:i.join(" ")});break;case"email":a=Object(c.jsx)("input",{type:"email",name:"email",placeholder:"Your e-mail",ref:r({required:!0,pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"invalid email address"}}),className:i.join(" ")});break;case"delivery":a=Object(c.jsxs)("select",{name:"delivery",ref:r({required:!0}),className:i.join(" "),children:[Object(c.jsx)("option",{value:"fastest",children:"Fastest"}),Object(c.jsx)("option",{value:"cheapest",children:"Cheapest"})]});break;default:r()}return Object(c.jsx)("div",{className:ze.a.Input,children:a})},Ze=ie((function(e){e.history;var t=Object(d.c)((function(e){return e.sandwichBuilder.ingredients})),n=Object(d.c)((function(e){return e.sandwichBuilder.totalPrice})),r=Object(d.c)((function(e){return e.order.loading})),a=Object(d.b)(),i=Object(Pe.a)({mode:"onChange"}),s=i.handleSubmit,o=i.register,l=i.errors,j=i.formState.isValid,u=r?Object(c.jsx)(Ee,{}):Object(c.jsxs)("form",{onSubmit:s((function(e){var c={ingredients:t,price:n.toFixed(2),orderData:e};a(ee(c))})),children:[Object(c.jsx)(Ye,{invalid:Object(He.has)(l,"name"),elementType:"name",inputRef:o}),Object(c.jsx)(Ye,{invalid:Object(He.has)(l,"street"),elementType:"street",inputRef:o}),Object(c.jsx)(Ye,{invalid:Object(He.has)(l,"zipCode"),elementType:"zipCode",inputRef:o}),Object(c.jsx)(Ye,{invalid:Object(He.has)(l,"email"),elementType:"email",inputRef:o}),Object(c.jsx)(Ye,{invalid:Object(He.has)(l,"delivery"),elementType:"delivery",inputRef:o}),Object(c.jsx)(Be,{disabled:!j,type:"submit",buttonType:"Success",children:"ORDER"})]});return Object(c.jsxs)("div",{className:Me.a.ContactData,children:[Object(c.jsx)("h4",{children:"Enter your Contact Data"}),u]})}),Y),Ge=function(e){var t=e.match,n=e.history,r=(e.location,Object(d.c)((function(e){return e.sandwichBuilder.ingredients}))),a=Object(d.c)((function(e){return e.order.purchased})),i=Object(c.jsx)(u.a,{to:"/"});if(r){var s=a?Object(c.jsx)(u.a,{to:"/"}):null;i=Object(c.jsxs)("div",{children:[s,Object(c.jsx)(Fe,{ingredients:r,onCheckoutCancelled:function(){n.goBack()},onCheckoutContinued:function(){n.replace("/checkout/contact-data")}}),Object(c.jsx)(u.b,{path:t.path+"/contact-data",component:Ze})]})}return i},We=n(60),Xe=n.n(We),Je=function(e){var t=e.ingredients,n=e.price,r=Object.entries(t).map((function(e){return e[1]?Object(c.jsxs)("span",{children:[e[0]," (",e[1],")"]},e[0]):null}));return Object(c.jsxs)("div",{className:Xe.a.Order,children:[Object(c.jsxs)("p",{children:["Ingredients: ",r]}),Object(c.jsxs)("p",{children:["Price: ",Object(c.jsxs)("strong",{children:["USD ",Number.parseFloat(n).toFixed(2)]})]})]})},Qe=n(61),Ve=n.n(Qe),$e=ie((function(){var e=Object(r.useState)([]),t=Object(b.a)(e,2),n=t[0],a=t[1],i=Object(r.useState)(!0),s=Object(b.a)(i,2),o=s[0],d=s[1];return Object(r.useEffect)((function(){Y.get("/orders.json").then((function(e){var t=[];for(var n in e.data)t.push(Object(U.a)(Object(U.a)({},e.data[n]),{},{id:n}));d(!1),a(t)})).catch((function(e){return d(!1)}))}),[]),o?Object(c.jsx)(Ee,{}):Object(c.jsx)("div",{className:Ve.a.Orders,children:n.map((function(e){return Object(c.jsx)(Je,{ingredients:e.ingredients,price:+e.price},e.id)}))})}),Y);var Ke=function(){return Object(c.jsx)("div",{children:Object(c.jsx)(M,{children:Object(c.jsxs)(u.d,{children:[Object(c.jsx)(u.b,{path:"/checkout",component:Ge}),Object(c.jsx)(u.b,{path:"/orders",component:$e}),Object(c.jsx)(u.b,{path:"/",exact:!0,component:Le})]})})})},et=n(9),tt={ingredients:null,totalPrice:4,error:!1},nt={salad:.5,bacon:.6,cheese:.4,ham:1.3},ct=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:return Object(U.a)(Object(U.a)({},e),{},{ingredients:Object(U.a)(Object(U.a)({},e.ingredients),{},Object(et.a)({},t.ingredientName,e.ingredients[t.ingredientName]+1)),totalPrice:e.totalPrice+nt[t.ingredientName]});case G:return Object(U.a)(Object(U.a)({},e),{},{ingredients:Object(U.a)(Object(U.a)({},e.ingredients),{},Object(et.a)({},t.ingredientName,e.ingredients[t.ingredientName]-1)),totalPrice:e.totalPrice-nt[t.ingredientName]});case W:return Object(U.a)(Object(U.a)({},e),{},{ingredients:{salad:t.ingredients.salad,bacon:t.ingredients.bacon,cheese:t.ingredients.cheese,ham:t.ingredients.ham},totalPrice:4,error:!1});case X:return Object(U.a)(Object(U.a)({},e),{},{error:!0});default:return Object(U.a)({},e)}},rt={orders:[],loading:!1,purchased:!1},at=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J:return Object(U.a)(Object(U.a)({},e),{},{purchased:!1});case Q:return Object(U.a)(Object(U.a)({},e),{},{loading:!0});case V:var n=Object(U.a)(Object(U.a)({},t.orderData),{},{id:t.orderId});return Object(U.a)(Object(U.a)({},e),{},{loading:!1,orders:e.orders.concat(n),purchased:!0});case $:return Object(U.a)(Object(U.a)({},e),{},{loading:!1});default:return e}},it=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.d,st=Object(l.c)({sandwichBuilder:ct,order:at}),ot=Object(l.e)(st,it(Object(l.a)(j.a)));s.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(d.a,{store:ot,children:Object(c.jsx)(o.a,{children:Object(c.jsx)(Ke,{})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[93,1,2]]]);
//# sourceMappingURL=main.4d3162ab.chunk.js.map