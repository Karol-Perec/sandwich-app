(this["webpackJsonpsandwich-app"]=this["webpackJsonpsandwich-app"]||[]).push([[0],{18:function(e,t,n){e.exports={SideDrawer:"SideDrawer_SideDrawer__2vria",Open:"SideDrawer_Open__bQ1T1",Close:"SideDrawer_Close__1l0Po",Logo:"SideDrawer_Logo__1--6Z"}},22:function(e,t,n){e.exports={BuildControl:"BuildControl_BuildControl__1gNjI",Label:"BuildControl_Label__2DGAt",Less:"BuildControl_Less__1PzlG",More:"BuildControl_More__22mCX"}},23:function(e,t,n){e.exports={Input:"Input_Input__by8S-",Label:"Input_Label__35Mas",InputElement:"Input_InputElement__2fIVq",Invalid:"Input_Invalid__3ZySs"}},29:function(e,t,n){e.exports={Toolbar:"Toolbar_Toolbar__1Dbq_",Logo:"Toolbar_Logo__2ZEct",DesktopOnly:"Toolbar_DesktopOnly__s6jM_"}},34:function(e,t,n){e.exports={NavigationItem:"NavigationItem_NavigationItem__hT7Wx",active:"NavigationItem_active__1eytb"}},36:function(e,t,n){e.exports={BuildControls:"BuildControls_BuildControls__i7Xys",OrderButton:"BuildControls_OrderButton__RuHm1",enable:"BuildControls_enable__1dw82"}},37:function(e,t,n){e.exports={Button:"Button_Button__2R2ns",Success:"Button_Success__3VvLA",Danger:"Button_Danger__jR-zq"}},47:function(e,t,n){e.exports={Footer:"Footer_Footer__2tIkr"}},48:function(e,t,n){e.exports={Logo:"Logo_Logo__vveA3"}},49:function(e,t,n){e.exports={NavigationItems:"NavigationItems_NavigationItems__1asSk"}},50:function(e,t,n){e.exports={Backdrop:"Backdrop_Backdrop__2tvfo"}},51:function(e,t,n){e.exports={DrawerToggle:"DrawerToggle_DrawerToggle__1aXKJ"}},52:function(e,t,n){e.exports={Content:"Layout_Content__2Ot6E"}},54:function(e,t,n){e.exports={Sandwich:"Sandwich_Sandwich__4-E5Q"}},55:function(e,t,n){e.exports={Modal:"Modal_Modal__3v1Ja"}},56:function(e,t,n){e.exports={Loader:"Spinner_Loader__3Gzy2",load8:"Spinner_load8__3TPK_"}},58:function(e,t,n){e.exports={CheckoutSummary:"CheckoutSummary_CheckoutSummary__1Lyiw"}},59:function(e,t,n){e.exports={ContactData:"ContactData_ContactData__jqj35"}},60:function(e,t,n){e.exports={Order:"Order_Order__2FR0Y"}},61:function(e,t,n){e.exports={Orders:"Orders_Orders__cvLc4"}},68:function(e,t,n){},9:function(e,t,n){e.exports={BreadBottom:"Ingredient_BreadBottom__1tPta",BreadTop:"Ingredient_BreadTop__1EYaA",Seeds1:"Ingredient_Seeds1__r7smi",Seeds2:"Ingredient_Seeds2__22qGS",Ham:"Ingredient_Ham__31xA2",Cheese:"Ingredient_Cheese__3ACZS",Salad:"Ingredient_Salad__m2Nsf",Bacon:"Ingredient_Bacon__2BQfD"}},91:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(1),c=n.n(r),i=n(24),s=n.n(i),o=(n(68),n(3)),l=n(28),d=n(47),u=n.n(d),j=function(){return Object(a.jsx)("footer",{className:u.a.Footer,children:Object(a.jsx)("div",{children:"The Sandwich Company"})})},h=n(10),b=n.p+"static/media/logo.ec69c7f6.png",p=n(48),O=n.n(p),m=function(){return Object(a.jsx)("div",{className:O.a.Logo,children:Object(a.jsx)(h.b,{to:"/",children:Object(a.jsx)("img",{src:b,alt:"Sandwiches"})})})},g=n(49),v=n.n(g),x=n(34),_=n.n(x),f=function(e){var t=e.link,n=e.exact,r=e.children;return Object(a.jsx)("li",{className:_.a.NavigationItem,children:Object(a.jsx)(h.c,{to:t,exact:n,activeClassName:_.a.active,children:r})})},C=function(){return Object(a.jsxs)("ul",{className:v.a.NavigationItems,children:[Object(a.jsx)(f,{link:"/",exact:!0,children:"Sandwich Builder"}),Object(a.jsx)(f,{link:"/orders",children:"Orders"})]})},y=n(50),k=n.n(y),N=function(e){var t=e.show,n=e.onClick;return t?Object(a.jsx)("div",{className:k.a.Backdrop,onClick:n}):null},S=n(18),w=n.n(S),B=function(e){var t=e.show,n=e.onBackdropClick,r=[w.a.SideDrawer,w.a.Close];return t&&(r=[w.a.SideDrawer,w.a.Open]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(N,{show:t,onClick:n}),Object(a.jsxs)("div",{className:r.join(" "),children:[Object(a.jsx)("div",{className:w.a.Logo,children:Object(a.jsx)(m,{})}),Object(a.jsx)("nav",{children:Object(a.jsx)(C,{})})]})]})},I=n(51),T=n.n(I),D=function(e){var t=e.onClick;return Object(a.jsxs)("div",{className:T.a.DrawerToggle,onClick:t,children:[Object(a.jsx)("div",{}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{})]})},L=n(29),E=n.n(L),F=function(e){var t=e.onDrawerToggleClick;return Object(a.jsxs)("header",{className:E.a.Toolbar,children:[Object(a.jsx)(D,{onClick:t}),Object(a.jsx)("div",{className:E.a.Logo,children:Object(a.jsx)(m,{})}),Object(a.jsx)("nav",{className:E.a.DesktopOnly,children:Object(a.jsx)(C,{})})]})},P=n(52),A=n.n(P),R=function(e){var t=e.children,n=Object(r.useState)(!1),c=Object(l.a)(n,2),i=c[0],s=c[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(F,{onDrawerToggleClick:function(){s((function(e){return!e}))}}),Object(a.jsx)(B,{onBackdropClick:function(){s(!1)},show:i}),Object(a.jsx)("main",{className:A.a.Content,children:t}),Object(a.jsx)(j,{})]})},H=n(2),M=n(11),q=n(12),V=n(15),U=n(14),X=n(13),Y=n(62),z=n(54),G=n.n(z),Z=n(9),J=n.n(Z),Q="bread-bottom",W="bread-top",K="ham",$="cheese",ee="bacon",te="salad",ne=function(e){var t=null;switch(e.type){case Q:t=Object(a.jsx)("div",{className:J.a.BreadBottom});break;case W:t=Object(a.jsxs)("div",{className:J.a.BreadTop,children:[Object(a.jsx)("div",{className:J.a.Seeds1}),Object(a.jsx)("div",{className:J.a.Seeds2})]});break;case K:t=Object(a.jsx)("div",{className:J.a.Ham});break;case $:t=Object(a.jsx)("div",{className:J.a.Cheese});break;case ee:t=Object(a.jsx)("div",{className:J.a.Bacon});break;case te:t=Object(a.jsx)("div",{className:J.a.Salad});break;default:t=null}return t},ae=function(e){var t=e.ingredients,n=Object.keys(t).map((function(e){return Object(Y.a)(Array(t[e])).map((function(t,n){return Object(a.jsx)(ne,{type:e},e+n)}))})).reduce((function(e,t){return e.concat(t)}),[]);return 0===n.length&&(n=Object(a.jsx)("p",{children:"Please start adding ingredients"})),Object(a.jsxs)("div",{className:G.a.Sandwich,children:[Object(a.jsx)(ne,{type:"bread-top"}),n,Object(a.jsx)(ne,{type:"bread-bottom"})]})},re=n(36),ce=n.n(re),ie=n(22),se=n.n(ie),oe=function(e){var t=e.label,n=e.removed,r=e.disabled,c=e.added;return Object(a.jsxs)("div",{className:se.a.BuildControl,children:[Object(a.jsx)("div",{className:se.a.Label,children:t}),Object(a.jsx)("button",{className:se.a.Less,onClick:n,disabled:r,children:"Less"}),Object(a.jsx)("button",{className:se.a.More,onClick:c,children:"More"})]})},le=[{label:"Salad",type:"salad"},{label:"Bacon",type:"bacon"},{label:"Cheese",type:"cheese"},{label:"Ham",type:"ham"}],de=function(e){var t=e.ingredientAdded,n=e.ingredientRemoved,r=e.disabled,c=e.price,i=e.purchaseable,s=e.ordered,o=le.map((function(e){return Object(a.jsx)(oe,{label:e.label,added:function(){return t(e.type)},removed:function(){return n(e.type)},disabled:r[e.type]},e.label)}));return Object(a.jsxs)("div",{className:ce.a.BuildControls,children:[Object(a.jsxs)("p",{children:["Current Price: ",Object(a.jsxs)("strong",{children:["USD ",c.toFixed(2)]})]}),o,Object(a.jsx)("button",{className:ce.a.OrderButton,disabled:!i,onClick:s,children:"ORDER"})]})},ue=n(55),je=n.n(ue),he=function(e){var t=e.show,n=e.onBackdropClick,r=e.children;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(N,{show:t,onClick:n}),Object(a.jsx)("div",{className:je.a.Modal,style:{transform:t?"translateY(0)":"translateY(-100vh)",opacity:t?"1":"0"},children:r})]})},be=function(e,t){return e.show===t.show&&e.children===t.children},pe=c.a.memo(he,be),Oe=n(37),me=n.n(Oe),ge=function(e){var t=e.onClick,n=e.disabled,r=e.buttonType,c=e.children;return Object(a.jsx)("button",{className:[me.a.Button,me.a[r]].join(" "),onClick:t,disabled:n,children:c})},ve=function(e){var t=e.ingredients,n=e.price,r=e.purchaseCancelled,c=e.purchaseContinued,i=Object.keys(t).map((function(e){return Object(a.jsxs)("li",{children:[Object(a.jsx)("span",{style:{textTransform:"capitalize"},children:e}),":"," ",t[e]]},e)}));return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h3",{children:"Your Order"}),Object(a.jsx)("p",{children:"Your best personalized sandwich includes: "}),Object(a.jsx)("ul",{children:i}),Object(a.jsx)("p",{children:Object(a.jsxs)("strong",{children:["Total Price: ",n.toFixed(2)]})}),Object(a.jsx)("p",{children:"Proceed to Checkout?"}),Object(a.jsx)(ge,{buttonType:"Danger",onClick:r,children:"CANCEL"}),Object(a.jsx)(ge,{buttonType:"Success",onClick:c,children:"CONTINUE"})]})},xe=n(56),_e=n.n(xe),fe=function(){return Object(a.jsx)("div",{className:_e.a.Loader,children:"Loading..."})},Ce=function(e,t){return function(n){var c=Object(r.useState)(null),i=Object(l.a)(c,2),s=i[0],o=i[1],d=t.interceptors.request.use((function(e){return o(null),e})),u=t.interceptors.response.use((function(e){return e}),(function(e){return o(e)}));Object(r.useEffect)((function(){return function(){t.interceptors.request.eject(d),t.interceptors.request.eject(u)}}));return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(pe,{show:s,onBackdropClick:function(){o(null)},children:null===s||void 0===s?void 0:s.message}),Object(a.jsx)(e,Object(H.a)({},n))]})}},ye=n(57),ke=n.n(ye).a.create({baseURL:"https://sandwich-app-37958.firebaseio.com/"}),Ne="ADD_INGREDIENT",Se="REMOVE_INGREDIENT",we=function(e){Object(V.a)(n,e);var t=Object(U.a)(n);function n(){var e;Object(M.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={purchasing:!1,loading:!1,error:!1},e.purchase=function(){e.setState({purchasing:!0})},e.purchaseCancel=function(){e.setState({purchasing:!1})},e.purchaseContinue=function(){e.props.history.push("/checkout")},e}return Object(q.a)(n,[{key:"updatePurchaseState",value:function(){return Object.values(this.props.ings).reduce((function(e,t){return e+t}),0)>0}},{key:"render",value:function(){var e=Object(H.a)({},this.props.ings);for(var t in e)e[t]=e[t]<=0;var n=null,r=this.state.error?Object(a.jsx)("p",{children:"Ingredients can't be loaded!"}):Object(a.jsx)(fe,{});return this.props.ings&&(r=Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ae,{ingredients:this.props.ings}),Object(a.jsx)(de,{ingredientAdded:this.props.onIngredientAdded,ingredientRemoved:this.props.onIngredientRemoved,disabled:e,price:this.props.price,purchaseable:this.updatePurchaseState(),ordered:this.purchase})]}),n=Object(a.jsx)(ve,{ingredients:this.props.ings,purchaseCancelled:this.purchaseCancel,purchaseContinued:this.purchaseContinue,price:this.props.price})),this.state.loading&&(n=Object(a.jsx)(fe,{})),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(pe,{show:this.state.purchasing,onBackdropClick:this.purchaseCancel,children:n}),r]})}}]),n}(r.Component),Be=Object(X.b)((function(e){return{ings:e.ingredients,price:e.totalPrice}}),(function(e){return{onIngredientAdded:function(t){return e({type:Ne,ingredientName:t})},onIngredientRemoved:function(t){return e({type:Se,ingredientName:t})}}}))(Ce(we,ke)),Ie=n(58),Te=n.n(Ie),De=function(e){var t=e.ingredients,n=e.checkoutCancelled,r=e.checkoutContinued;return Object(a.jsxs)("div",{className:Te.a.CheckoutSummary,children:[Object(a.jsx)("h1",{children:"There's your sandwich!"}),Object(a.jsx)("div",{style:{width:"100%",margin:"auto"},children:Object(a.jsx)(ae,{ingredients:t})}),Object(a.jsx)(ge,{buttonType:"Danger",onClick:n,children:"CANCEL"}),Object(a.jsx)(ge,{buttonType:"Success",onClick:r,children:"CONTINUE"})]})},Le=n(23),Ee=n.n(Le),Fe=function(e){var t=e.valid,n=e.touched,r=e.elementType,c=e.elementConfig,i=e.value,s=e.changed,o=e.label,l=null,d=[Ee.a.InputElement];switch(!1===t&&n&&d.push(Ee.a.Invalid),r){case"input":l=Object(a.jsx)("input",Object(H.a)(Object(H.a)({className:d.join(" ")},c),{},{value:i,onChange:s}));break;case"textarea":l=Object(a.jsx)("textarea",Object(H.a)(Object(H.a)({className:d.join(" ")},c),{},{value:i,onChange:s}));break;case"select":l=Object(a.jsx)("select",{className:d.join(" "),value:i,onChange:s,children:c.options.map((function(e){return Object(a.jsx)("option",{value:e.value,children:e.displayValue},e.value)}))});break;default:l=Object(a.jsx)("input",Object(H.a)(Object(H.a)({className:d.join(" ")},c),{},{value:i,onChange:s}))}return Object(a.jsxs)("div",{className:Ee.a.Input,children:[Object(a.jsx)("label",{className:Ee.a.Label,children:o}),l]})},Pe={name:{elementType:"input",elementConfig:{type:"text",placeholder:"Your name"},value:"",validation:{required:!0},valid:!1,touched:!1},street:{elementType:"input",elementConfig:{type:"text",placeholder:"Street"},value:"",validation:{required:!0},valid:!1,touched:!1},zipCode:{elementType:"input",elementConfig:{type:"text",placeholder:"ZIP Code"},value:"",validation:{required:!0,minLength:5,maxLength:6},valid:!1,touched:!1},email:{elementType:"input",elementConfig:{type:"email",placeholder:"E-mail"},value:"",validation:{required:!0},valid:!1,touched:!1},deliveryMethod:{elementType:"select",elementConfig:{options:[{value:"fastest",displayValue:"Fastest"},{value:"cheapest",displayValue:"Cheapest"}]},validation:{},value:"fastest",valid:!0}},Ae=n(59),Re=n.n(Ae),He=function(e){Object(V.a)(n,e);var t=Object(U.a)(n);function n(){var e;Object(M.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={orderForm:Pe,isValidForm:!1,loading:!1},e.orderHandler=function(t){t.preventDefault(),e.setState({loading:!0});var n={};for(var a in e.state.orderForm)n[a]=e.state.orderForm[a].value;var r={ingredients:e.props.ings,price:e.props.price,orderData:n};ke.post("/orders.json",r).then((function(t){e.setState({loading:!1}),e.props.history.push("/")})).catch((function(t){return e.setState({loading:!1})}))},e.inputChangedHandler=function(t,n){var a=Object(H.a)({},e.state.orderForm),r=Object(H.a)({},a[n]);r.value=t.target.value,r.valid=e.checkValidity(r.value,r.validation),r.touched=!0,a[n]=r;var c=!0;for(var i in a)c=a[i].valid&&c;e.setState({orderForm:a,isValidForm:c})},e}return Object(q.a)(n,[{key:"checkValidity",value:function(e,t){var n=!0;return(t.required&&""===e.trim()||t.minLength&&e.length<t.minLength||t.maxLength&&e.length>t.maxLength)&&(n=!1),n}},{key:"render",value:function(){var e=this,t=[];for(var n in this.state.orderForm)t.push({id:n,config:this.state.orderForm[n]});var r=Object(a.jsxs)("form",{onSubmit:this.orderHandler,children:[t.map((function(t){return Object(a.jsx)(Fe,{elementType:t.config.elementType,elementConfig:t.config.elementConfig,value:t.config.value,valid:t.config.valid,touched:t.config.touched,changed:function(n){return e.inputChangedHandler(n,t.id)}},t.id)})),Object(a.jsx)(ge,{buttonType:"Success",onClick:this.orderHandler,disabled:!this.state.isValidForm,children:"ORDER"})]});return this.state.loading&&(r=Object(a.jsx)(fe,{})),Object(a.jsxs)("div",{className:Re.a.ContactData,children:[Object(a.jsx)("h4",{children:"Enter your contact data"}),r]})}}]),n}(r.Component),Me=Object(X.b)((function(e){return{ings:e.ingredients,price:e.totalPrice}}))(He),qe=function(e){Object(V.a)(n,e);var t=Object(U.a)(n);function n(){var e;Object(M.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).checkoutCancelledHandler=function(){e.props.history.goBack()},e.checkoutContinuedHandler=function(){e.props.history.replace("/checkout/contact-data")},e}return Object(q.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)(De,{ingredients:this.props.ings,checkoutCancelled:this.checkoutCancelledHandler,checkoutContinued:this.checkoutContinuedHandler}),Object(a.jsx)(o.a,{path:this.props.match.path+"/contact-data",component:Me})]})}}]),n}(r.Component),Ve=Object(X.b)((function(e){return{ings:e.ingredients}}))(qe),Ue=n(60),Xe=n.n(Ue),Ye=function(e){var t=e.ingredients,n=e.price,r=Object.entries(t).map((function(e){return e[1]?Object(a.jsxs)("span",{children:[e[0]," (",e[1],")"]},e[0]):null}));return Object(a.jsxs)("div",{className:Xe.a.Order,children:[Object(a.jsxs)("p",{children:["Ingredients: ",r]}),Object(a.jsxs)("p",{children:["Price: ",Object(a.jsxs)("strong",{children:["USD ",Number.parseFloat(n).toFixed(2)]})]})]})},ze=n(61),Ge=n.n(ze),Ze=Ce(function(e){Object(V.a)(n,e);var t=Object(U.a)(n);function n(){var e;Object(M.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={orders:[],loading:!0},e}return Object(q.a)(n,[{key:"componentDidMount",value:function(){var e=this;ke.get("orders.json").then((function(t){var n=[];for(var a in t.data)n.push(Object(H.a)(Object(H.a)({},t.data[a]),{},{id:a}));e.setState({loading:!1,orders:n})})).catch((function(t){e.setState({loading:!1})}))}},{key:"render",value:function(){return Object(a.jsx)("div",{className:Ge.a.Orders,children:this.state.orders.map((function(e){return Object(a.jsx)(Ye,{ingredients:e.ingredients,price:e.price},e.id)}))})}}]),n}(r.Component),ke);var Je=function(){return Object(a.jsx)("div",{children:Object(a.jsx)(R,{children:Object(a.jsxs)(o.c,{children:[Object(a.jsx)(o.a,{path:"/checkout",component:Ve}),Object(a.jsx)(o.a,{path:"/orders",component:Ze}),Object(a.jsx)(o.a,{path:"/",exact:!0,component:Be})]})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Qe=n(27),We=n(21),Ke={ingredients:{salad:0,bacon:0,cheese:0,ham:0},totalPrice:4},$e={salad:.5,cheese:.4,ham:1.3,bacon:.7},et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ne:return Object(H.a)(Object(H.a)({},e),{},{ingredients:Object(H.a)(Object(H.a)({},e.ingredients),{},Object(We.a)({},t.ingredientName,e.ingredients[t.ingredientName]+1)),totalPrice:e.totalPrice+$e[t.ingredientName]});case Se:return Object(H.a)(Object(H.a)({},e),{},{ingredients:Object(H.a)(Object(H.a)({},e.ingredients),{},Object(We.a)({},t.ingredientName,e.ingredients[t.ingredientName]-1)),totalPrice:e.totalPrice-$e[t.ingredientName]});default:return e}},tt=Object(Qe.b)(et,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());s.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(X.a,{store:tt,children:Object(a.jsx)(h.a,{basename:"/sandwich-app",children:Object(a.jsx)(Je,{})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[91,1,2]]]);
//# sourceMappingURL=main.77ac5809.chunk.js.map