(this["webpackJsonpsandwich-app"]=this["webpackJsonpsandwich-app"]||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,t,n){e.exports={BreadBottom:"Ingredient_BreadBottom__1tPta",BreadTop:"Ingredient_BreadTop__1EYaA",Seeds1:"Ingredient_Seeds1__r7smi",Seeds2:"Ingredient_Seeds2__22qGS",Ham:"Ingredient_Ham__31xA2",Cheese:"Ingredient_Cheese__3ACZS",Salad:"Ingredient_Salad__m2Nsf",Bacon:"Ingredient_Bacon__2BQfD"}},,,,,function(e,t,n){e.exports={SideDrawer:"SideDrawer_SideDrawer__2vria",Open:"SideDrawer_Open__bQ1T1",Close:"SideDrawer_Close__1l0Po",Logo:"SideDrawer_Logo__1--6Z"}},,,function(e,t,n){e.exports={BuildControl:"BuildControl_BuildControl__1gNjI",Label:"BuildControl_Label__2DGAt",Less:"BuildControl_Less__1PzlG",More:"BuildControl_More__22mCX"}},,,,,function(e,t,n){e.exports={Toolbar:"Toolbar_Toolbar__1Dbq_",Logo:"Toolbar_Logo__2ZEct",DesktopOnly:"Toolbar_DesktopOnly__s6jM_"}},function(e,t,n){e.exports={Input:"FormInput_Input__3KckB",InputElement:"FormInput_InputElement__Pca0f",Invalid:"FormInput_Invalid__35QZd"}},,,,,,,function(e,t,n){e.exports={NavigationItem:"NavigationItem_NavigationItem__hT7Wx",active:"NavigationItem_active__1eytb"}},function(e,t,n){e.exports={BuildControls:"BuildControls_BuildControls__i7Xys",OrderButton:"BuildControls_OrderButton__RuHm1",enable:"BuildControls_enable__1dw82"}},function(e,t,n){e.exports={Button:"Button_Button__2R2ns",Success:"Button_Success__3VvLA",Danger:"Button_Danger__jR-zq"}},,,,,,,,,,,function(e,t,n){e.exports={Footer:"Footer_Footer__2tIkr"}},function(e,t,n){e.exports={Logo:"Logo_Logo__vveA3"}},function(e,t,n){e.exports={NavigationItems:"NavigationItems_NavigationItems__1asSk"}},function(e,t,n){e.exports={Backdrop:"Backdrop_Backdrop__2tvfo"}},function(e,t,n){e.exports={DrawerToggle:"DrawerToggle_DrawerToggle__1aXKJ"}},function(e,t,n){e.exports={Content:"Layout_Content__2Ot6E"}},function(e,t,n){e.exports={Modal:"Modal_Modal__3v1Ja"}},function(e,t,n){e.exports={Sandwich:"Sandwich_Sandwich__4-E5Q"}},function(e,t,n){e.exports={Spinner:"Spinner_Spinner__39gUm","lds-ring":"Spinner_lds-ring__3ac3c"}},function(e,t,n){e.exports={CheckoutSummary:"CheckoutSummary_CheckoutSummary__1Lyiw"}},function(e,t,n){e.exports={ContactData:"ContactData_ContactData__jqj35"}},function(e,t,n){e.exports={Order:"Order_Order__2FR0Y"}},function(e,t,n){e.exports={Orders:"Orders_Orders__cvLc4"}},function(e,t,n){e.exports={Auth:"Auth_Auth__zZ5XE"}},,,,,,,,,,function(e,t,n){},,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(1),a=n.n(c),i=n(25),o=n.n(i);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=n(14),d=n(3),l=n(17),u=n(49),j=(n(73),n(4)),b=n(8),O=n(50),h=n.n(O),p=function(){return Object(r.jsx)("footer",{className:h.a.Footer,children:Object(r.jsx)("div",{children:"The Sandwich Company"})})},m=n.p+"static/media/logo.ec69c7f6.png",x=n(51),f=n.n(x),g=function(){return Object(r.jsx)("div",{className:f.a.Logo,children:Object(r.jsx)(s.b,{to:"/",children:Object(r.jsx)("img",{src:m,alt:"Sandwiches"})})})},_=n(52),v=n.n(_),C=n(37),S=n.n(C),k=function(e){var t=e.link,n=e.exact,c=e.children;return Object(r.jsx)("li",{className:S.a.NavigationItem,children:Object(r.jsx)(s.c,{to:t,exact:n,activeClassName:S.a.active,children:c})})},I=function(){var e=null!==Object(d.c)((function(e){return e.auth.token}));return Object(r.jsxs)("ul",{className:v.a.NavigationItems,children:[Object(r.jsx)(k,{link:"/",exact:!0,children:"Sandwich Builder"}),e?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(k,{link:"/logout",children:"Log Out"}),Object(r.jsx)(k,{link:"/orders",children:"Orders"})]}):Object(r.jsx)(k,{link:"/auth",children:"Log In"})]})},y=n(53),N=n.n(y),w=function(e){var t=e.show,n=e.onClick;return t?Object(r.jsx)("div",{className:N.a.Backdrop,onClick:n}):null},T=n(21),B=n.n(T),D=function(e){var t=e.show,n=e.onBackdropClick,c=[B.a.SideDrawer,B.a.Close];return t&&(c=[B.a.SideDrawer,B.a.Open]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(w,{show:t,onClick:n}),Object(r.jsxs)("div",{className:c.join(" "),children:[Object(r.jsx)("div",{className:B.a.Logo,children:Object(r.jsx)(g,{})}),Object(r.jsx)("nav",{children:Object(r.jsx)(I,{})})]})]})},E=n(54),A=n.n(E),R=function(e){var t=e.onClick;return Object(r.jsxs)("div",{className:A.a.DrawerToggle,onClick:t,children:[Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{})]})},L=n(29),F=n.n(L),P=function(e){var t=e.onDrawerToggleClick;return Object(r.jsxs)("header",{className:F.a.Toolbar,children:[Object(r.jsx)(R,{onClick:t}),Object(r.jsx)("div",{className:F.a.Logo,children:Object(r.jsx)(g,{})}),Object(r.jsx)("nav",{className:F.a.DesktopOnly,children:Object(r.jsx)(I,{})})]})},U=n(55),H=n.n(U),q=function(e){var t=e.children,n=Object(c.useState)(!1),a=Object(b.a)(n,2),i=a[0],o=a[1];return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(P,{onDrawerToggleClick:function(){o((function(e){return!e}))}}),Object(r.jsx)(D,{onBackdropClick:function(){o(!1)},show:i}),Object(r.jsx)("main",{className:H.a.Content,children:t}),Object(r.jsx)(p,{})]})},M=n(2),Z=n(27),z=n.n(Z),G=z.a.create({baseURL:"https://sandwich-app-37958.firebaseio.com/"}),W="ADD_INGREDIENT",X="REMOVE_INGREDIENT",Y="SET_INGREDIENTS",V="FETCH_INGREDIENTS_FAILED",$="PURCHASE_INIT",J="PURCHASE_SANDWICH_START",Q="PURCHASE_SANDWICH_SUCCESS",K="PURCHASE_SANDWICH_FAIL",ee="FETCH_ORDERS_START",te="FETCH_ORDERS_SUCCESS",ne="FETCH_ORDERS_FAIL",re="AUTH_START",ce="AUTH_SUCCESS",ae="AUTH_FAIL",ie="AUTH_LOGOUT",oe=function(){return function(e){G.get("/ingredients.json").then((function(t){var n;e((n=t.data,{type:Y,ingredients:n}))})).catch((function(){return e({type:V})}))}},se=function(e,t){return function(n){n({type:J}),G.post("/orders.json?auth="+t,e).then((function(t){n(function(e,t){return{type:Q,orderId:e,orderData:t}}(t.data.name,e))})).catch((function(e){n(function(e){return{type:K,error:e}}(e))}))}},de=function(e,t){return function(n){n({type:ee});var r="?auth=".concat(e,'&orderBy="userId"&equalTo="').concat(t,'"');G.get("/orders.json"+r).then((function(e){var t=[];for(var r in e.data)t.push(Object(M.a)(Object(M.a)({},e.data[r]),{},{id:r}));n({type:te,orders:t})})).catch((function(e){n({type:ne,error:e})}))}},le="https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=".concat("AIzaSyBj_IBx-2u4BoAUObt1FZwWwXZbp93_V0M"),ue="https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=".concat("AIzaSyBj_IBx-2u4BoAUObt1FZwWwXZbp93_V0M"),je=function(e,t){return{type:ce,token:e,userId:t}},be=function(){return localStorage.removeItem("token"),localStorage.removeItem("expirationDate"),localStorage.removeItem("userId"),{type:ie}},Oe=function(e){return function(t){setTimeout((function(){t(be())}),1e3*e)}},he=function(e,t,n){return function(r){r({type:re});var c={email:e,password:t,returnSecureToken:!0},a=n?le:ue;z.a.post(a,c).then((function(e){console.log(e);var t=new Date((new Date).getTime()+1e3*e.data.expiresIn);localStorage.setItem("token",e.data.idToken),localStorage.setItem("expirationDate",t),localStorage.setItem("userId",e.data.localId),r(je(e.data.idToken,e.data.localId)),r(Oe(e.data.expiresIn))})).catch((function(e){console.log(e),r(function(e){return{type:ae,error:e}}(e.response.data.error))}))}},pe=n(56),me=n.n(pe),xe=function(e){var t=e.show,n=e.onBackdropClick,c=e.children;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(w,{show:t,onClick:n}),Object(r.jsx)("div",{className:me.a.Modal,style:{transform:t?"translateY(0)":"translateY(-100vh)",opacity:t?"1":"0"},children:c})]})},fe=function(e,t){return e.show===t.show&&e.children===t.children},ge=a.a.memo(xe,fe),_e=function(e,t){return function(n){var a=Object(c.useState)(null),i=Object(b.a)(a,2),o=i[0],s=i[1],d=t.interceptors.request.use((function(e){return s(null),e})),l=t.interceptors.response.use((function(e){return e}),(function(e){return s(e)}));Object(c.useEffect)((function(){return function(){t.interceptors.request.eject(d),t.interceptors.request.eject(l)}}));return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(ge,{show:o,onBackdropClick:function(){s(null)},children:null===o||void 0===o?void 0:o.message}),Object(r.jsx)(e,Object(M.a)({},n))]})}},ve=n(38),Ce=n.n(ve),Se=n(24),ke=n.n(Se),Ie=function(e){var t=e.label,n=e.removed,c=e.disabled,a=e.added;return Object(r.jsxs)("div",{className:ke.a.BuildControl,children:[Object(r.jsx)("div",{className:ke.a.Label,children:t}),Object(r.jsx)("button",{className:ke.a.Less,onClick:n,disabled:c,children:"Less"}),Object(r.jsx)("button",{className:ke.a.More,onClick:a,children:"More"})]})},ye=[{label:"Salad",type:"salad"},{label:"Bacon",type:"bacon"},{label:"Cheese",type:"cheese"},{label:"Ham",type:"ham"}],Ne=function(e){var t=e.ingredientAdded,n=e.ingredientRemoved,c=e.disabled,a=e.price,i=e.purchaseable,o=e.ordered,s=e.isAuthenticated,d=ye.map((function(e){return Object(r.jsx)(Ie,{label:e.label,added:function(){return t(e.type)},removed:function(){return n(e.type)},disabled:c[e.type]},e.label)}));return Object(r.jsxs)("div",{className:Ce.a.BuildControls,children:[Object(r.jsxs)("p",{children:["Current Price: ",Object(r.jsxs)("strong",{children:["USD ",a.toFixed(2)]})]}),d,Object(r.jsx)("button",{className:Ce.a.OrderButton,disabled:!i,onClick:o,children:s?"ORDER NOW":"LOG IN TO ORDER"})]})},we=n(5),Te=n(57),Be=n.n(Te),De=n(16),Ee=n.n(De),Ae="bread-bottom",Re="bread-top",Le="ham",Fe="cheese",Pe="bacon",Ue="salad",He=function(e){var t=null;switch(e.type){case Ae:t=Object(r.jsx)("div",{className:Ee.a.BreadBottom});break;case Re:t=Object(r.jsxs)("div",{className:Ee.a.BreadTop,children:[Object(r.jsx)("div",{className:Ee.a.Seeds1}),Object(r.jsx)("div",{className:Ee.a.Seeds2})]});break;case Le:t=Object(r.jsx)("div",{className:Ee.a.Ham});break;case Fe:t=Object(r.jsx)("div",{className:Ee.a.Cheese});break;case Pe:t=Object(r.jsx)("div",{className:Ee.a.Bacon});break;case Ue:t=Object(r.jsx)("div",{className:Ee.a.Salad});break;default:t=null}return t},qe=function(e){var t=e.ingredients,n=t?Object.keys(t).map((function(e){return Object(we.a)(Array(t[e])).map((function(t,n){return Object(r.jsx)(He,{type:e},e+n)}))})).reduce((function(e,t){return e.concat(t)}),[]):[];return 0===n.length&&(n=Object(r.jsx)("p",{children:"Please start adding ingredients"})),Object(r.jsxs)("div",{className:Be.a.Sandwich,children:[Object(r.jsx)(He,{type:"bread-top"}),n,Object(r.jsx)(He,{type:"bread-bottom"})]})},Me=n(39),Ze=n.n(Me),ze=function(e){var t=e.onClick,n=e.type,c=e.buttonType,a=e.children,i=e.disabled;return Object(r.jsx)("button",{className:[Ze.a.Button,Ze.a[c]].join(" "),onClick:t,type:n,disabled:i,children:a})},Ge=function(e){var t=e.ingredients,n=e.price,c=e.purchaseCancelled,a=e.purchaseContinued,i=Object.keys(t).map((function(e){return Object(r.jsxs)("li",{children:[Object(r.jsx)("span",{style:{textTransform:"capitalize"},children:e}),":"," ",t[e]]},e)}));return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h3",{children:"Your Order"}),Object(r.jsx)("p",{children:"Your best personalized sandwich includes: "}),Object(r.jsx)("ul",{children:i}),Object(r.jsx)("p",{children:Object(r.jsxs)("strong",{children:["Total Price: ",n.toFixed(2)]})}),Object(r.jsx)("p",{children:"Proceed to Checkout?"}),Object(r.jsx)(ze,{buttonType:"Danger",onClick:c,children:"CANCEL"}),Object(r.jsx)(ze,{buttonType:"Success",onClick:a,children:"CONTINUE"})]})},We=n(58),Xe=n.n(We),Ye=function(){return Object(r.jsxs)("div",{className:Xe.a.Spinner,children:[Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{})]})},Ve=_e((function(e){var t=e.history,n=Object(c.useState)(!1),a=Object(b.a)(n,2),i=a[0],o=a[1],s=Object(d.c)((function(e){return e.sandwichBuilder.ingredients})),l=Object(d.c)((function(e){return e.sandwichBuilder.totalPrice})),u=Object(d.c)((function(e){return e.sandwichBuilder.error})),j=Object(d.c)((function(e){return null!==e.auth.token})),O=Object(d.b)();Object(c.useEffect)((function(){O(oe())}),[O]);var h=function(){o(!1)},p=Object(M.a)({},s);for(var m in p)p[m]=p[m]<=0;var x=null,f=u?Object(r.jsx)("p",{children:"Ingredients can't be loaded"}):Object(r.jsx)(Ye,{});return s&&(f=Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(qe,{ingredients:s})," ",Object(r.jsx)(Ne,{ingredientAdded:function(e){O(function(e){return{type:W,ingredientName:e}}(e))},ingredientRemoved:function(e){O(function(e){return{type:X,ingredientName:e}}(e))},disabled:p,price:l,purchaseable:Object.values(s).reduce((function(e,t){return e+t}),0)>0,ordered:function(){j?o(!0):t.push("/auth")},isAuthenticated:j})]}),x=Object(r.jsx)(Ge,{ingredients:s,purchaseCancelled:h,purchaseContinued:function(){t.push("/checkout"),O({type:$})},price:l})),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(ge,{show:i,onBackdropClick:h,children:x}),f]})}),G),$e=n(59),Je=n.n($e),Qe=function(e){var t=e.ingredients,n=e.onCheckoutCancelled,c=e.onCheckoutContinued;return Object(r.jsxs)("div",{className:Je.a.CheckoutSummary,children:[Object(r.jsx)("h1",{children:"We hope it testes well!"}),Object(r.jsx)("div",{style:{width:"100%",margin:"auto"},children:Object(r.jsx)(qe,{ingredients:t})}),Object(r.jsx)(ze,{buttonType:"Danger",onClick:n,children:"CANCEL"}),Object(r.jsx)(ze,{buttonType:"Success",onClick:c,children:"CONTINUE"})]})},Ke=n(28),et=n(15),tt=n(60),nt=n.n(tt),rt=n(30),ct=n.n(rt),at=function(e){var t=e.invalid,n=e.elementType,c=e.inputRef,a=null,i=[ct.a.InputElement];switch(t&&i.push(ct.a.Invalid),n){case"name":a=Object(r.jsx)("input",{type:"text",name:"name",placeholder:"Your name",ref:c({required:!0,maxLength:20}),className:i.join(" ")});break;case"street":a=Object(r.jsx)("input",{type:"text",name:"street",placeholder:"Street",ref:c({required:!0,maxLength:20}),className:i.join(" ")});break;case"zipCode":a=Object(r.jsx)("input",{type:"text",name:"zipCode",placeholder:"Zip code",ref:c({required:!0,pattern:{value:/^\d{2}-\d{3}$/i,message:"invalid zip code"}}),className:i.join(" ")});break;case"email":a=Object(r.jsx)("input",{type:"email",name:"email",placeholder:"Your e-mail",ref:c({required:!0,pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"invalid email address"}}),className:i.join(" ")});break;case"delivery":a=Object(r.jsxs)("select",{name:"delivery",ref:c({required:!0}),className:i.join(" "),children:[Object(r.jsx)("option",{value:"fastest",children:"Fastest"}),Object(r.jsx)("option",{value:"cheapest",children:"Cheapest"})]});break;case"password":a=Object(r.jsx)("input",{type:"password",name:"password",placeholder:"Password",ref:c({required:!0,maxLength:20,minLength:6,pattern:/^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{6,}$/}),className:i.join(" ")});break;default:c()}return Object(r.jsx)("div",{className:ct.a.Input,children:a})},it=_e((function(e){e.history;var t=Object(d.c)((function(e){return e.sandwichBuilder.ingredients})),n=Object(d.c)((function(e){return e.sandwichBuilder.totalPrice})),c=Object(d.c)((function(e){return e.order.loading})),a=Object(d.c)((function(e){return e.auth.token})),i=Object(d.c)((function(e){return e.auth.userId})),o=Object(d.b)(),s=Object(Ke.a)({mode:"onChange"}),l=s.handleSubmit,u=s.register,j=s.errors,b=s.formState.isValid,O=c?Object(r.jsx)(Ye,{}):Object(r.jsxs)("form",{onSubmit:l((function(e){var r={ingredients:t,price:n.toFixed(2),orderData:e,userId:i};o(se(r,a))})),children:[Object(r.jsx)(at,{invalid:Object(et.has)(j,"name"),elementType:"name",inputRef:u}),Object(r.jsx)(at,{invalid:Object(et.has)(j,"street"),elementType:"street",inputRef:u}),Object(r.jsx)(at,{invalid:Object(et.has)(j,"zipCode"),elementType:"zipCode",inputRef:u}),Object(r.jsx)(at,{invalid:Object(et.has)(j,"email"),elementType:"email",inputRef:u}),Object(r.jsx)(at,{invalid:Object(et.has)(j,"delivery"),elementType:"delivery",inputRef:u}),Object(r.jsx)(ze,{disabled:!b,type:"submit",buttonType:"Success",children:"ORDER"})]});return Object(r.jsxs)("div",{className:nt.a.ContactData,children:[Object(r.jsx)("h4",{children:"Enter your Contact Data"}),O]})}),G),ot=function(e){var t=e.match,n=e.history,c=(e.location,Object(d.c)((function(e){return e.sandwichBuilder.ingredients}))),a=Object(d.c)((function(e){return e.order.purchased})),i=Object(r.jsx)(j.a,{to:"/"});if(c){var o=a?Object(r.jsx)(j.a,{to:"/"}):null;i=Object(r.jsxs)("div",{children:[o,Object(r.jsx)(Qe,{ingredients:c,onCheckoutCancelled:function(){n.goBack()},onCheckoutContinued:function(){n.replace("/checkout/contact-data")}}),Object(r.jsx)(j.b,{path:t.path+"/contact-data",component:it})]})}return i},st=n(61),dt=n.n(st),lt=function(e){var t=e.ingredients,n=e.price,c=Object.entries(t).map((function(e){return e[1]?Object(r.jsxs)("span",{children:[e[0]," (",e[1],")"]},e[0]):null}));return Object(r.jsxs)("div",{className:dt.a.Order,children:[Object(r.jsxs)("p",{children:["Ingredients: ",c]}),Object(r.jsxs)("p",{children:["Price: ",Object(r.jsxs)("strong",{children:["USD ",Number.parseFloat(n).toFixed(2)]})]})]})},ut=n(62),jt=n.n(ut),bt=_e((function(){var e=Object(d.c)((function(e){return e.order.orders})),t=Object(d.c)((function(e){return e.order.loading})),n=Object(d.c)((function(e){return e.auth.token})),a=Object(d.c)((function(e){return e.auth.userId})),i=Object(d.b)();Object(c.useEffect)((function(){i(de(n,a))}),[i,n,a]);var o=Object(r.jsx)(Ye,{});return t||(o=Object(r.jsx)("div",{className:jt.a.Orders,children:e.map((function(e){return Object(r.jsx)(lt,{ingredients:e.ingredients,price:+e.price},e.id)}))})),o}),G),Ot=n(63),ht=n.n(Ot),pt=function(){var e=Object(c.useState)(!1),t=Object(b.a)(e,2),n=t[0],a=t[1],i=Object(d.c)((function(e){return e.auth.loading})),o=Object(d.c)((function(e){return e.auth.error})),s=Object(d.c)((function(e){return null!==e.auth.token})),l=Object(d.c)((function(e){return e.sandwichBuilder.building})),u=Object(d.b)(),O=Object(Ke.a)({mode:"onChange"}),h=O.handleSubmit,p=O.register,m=O.errors,x=O.formState.isValid,f=i?Object(r.jsx)(Ye,{}):Object(r.jsx)("div",{children:Object(r.jsxs)("form",{onSubmit:h((function(e){u(he(e.email,e.password,n))})),children:[Object(r.jsx)(at,{invalid:Object(et.has)(m,"email"),elementType:"email",inputRef:p}),Object(r.jsx)(at,{invalid:Object(et.has)(m,"password"),elementType:"password",inputRef:p}),Object(r.jsx)(ze,{disabled:!x,type:"submit",buttonType:"Success",children:n?"SIGN UP":"LOG IN"})]})}),g=o?Object(r.jsx)("p",{children:o.message}):null,_=null;return s&&(_=l?Object(r.jsx)(j.a,{to:"/checkout"}):Object(r.jsx)(j.a,{to:"/"})),Object(r.jsxs)("div",{className:ht.a.Auth,children:[_,g,f,n?Object(r.jsx)("p",{children:"Already have account?"}):Object(r.jsx)("p",{children:"Don't have account?"}),Object(r.jsxs)(ze,{onClick:function(){a((function(e){return!e}))},buttonType:"Danger",children:["SWITCH TO ",n?"LOG IN":"SIGN UP"]})]})},mt=function(){var e=Object(d.b)();return Object(c.useEffect)((function(){e(be())}),[e]),Object(r.jsx)(j.a,{to:"/"})};var xt=function(){var e=Object(d.c)((function(e){return null!==e.auth.token})),t=Object(d.b)();Object(c.useEffect)((function(){t((function(e){var t=localStorage.getItem("token");if(t){var n=new Date(localStorage.getItem("expirationDate"));if(n<=new Date)e(be());else{var r=localStorage.getItem("userId");e(je(t,r)),e(Oe((n.getTime()-(new Date).getTime())/1e3))}}else e(be())}))}),[t]);var n=Object(r.jsxs)(j.d,{children:[Object(r.jsx)(j.b,{path:"/auth",component:pt}),Object(r.jsx)(j.b,{path:"/",exact:!0,component:Ve}),Object(r.jsx)(j.a,{to:"/"})]});return e&&(n=Object(r.jsxs)(j.d,{children:[Object(r.jsx)(j.b,{path:"/checkout",component:ot}),Object(r.jsx)(j.b,{path:"/orders",component:bt}),Object(r.jsx)(j.b,{path:"/logout",component:mt}),Object(r.jsx)(j.b,{path:"/",exact:!0,component:Ve}),Object(r.jsx)(j.a,{to:"/"})]})),Object(r.jsx)("div",{children:Object(r.jsx)(q,{children:n})})},ft=n(9),gt={ingredients:null,totalPrice:4,error:!1,building:!1},_t={salad:.5,bacon:.6,cheese:.4,ham:1.3},vt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:return Object(M.a)(Object(M.a)({},e),{},{ingredients:Object(M.a)(Object(M.a)({},e.ingredients),{},Object(ft.a)({},t.ingredientName,e.ingredients[t.ingredientName]+1)),totalPrice:e.totalPrice+_t[t.ingredientName],building:!0});case X:return Object(M.a)(Object(M.a)({},e),{},{ingredients:Object(M.a)(Object(M.a)({},e.ingredients),{},Object(ft.a)({},t.ingredientName,e.ingredients[t.ingredientName]-1)),totalPrice:e.totalPrice-_t[t.ingredientName],building:!0});case Y:return Object(M.a)(Object(M.a)({},e),{},{ingredients:{salad:t.ingredients.salad,bacon:t.ingredients.bacon,cheese:t.ingredients.cheese,ham:t.ingredients.ham},totalPrice:4,error:!1,building:!1});case V:return Object(M.a)(Object(M.a)({},e),{},{error:!0});default:return e}},Ct={orders:[],loading:!1,purchased:!1},St=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return Object(M.a)(Object(M.a)({},e),{},{purchased:!1});case J:return Object(M.a)(Object(M.a)({},e),{},{loading:!0});case Q:var n=Object(M.a)(Object(M.a)({},t.orderData),{},{id:t.orderId});return Object(M.a)(Object(M.a)({},e),{},{loading:!1,orders:e.orders.concat(n),purchased:!0});case K:return Object(M.a)(Object(M.a)({},e),{},{loading:!1});case ee:return Object(M.a)(Object(M.a)({},e),{},{loading:!0});case te:return Object(M.a)(Object(M.a)({},e),{},{orders:t.orders,loading:!1});case ne:return Object(M.a)(Object(M.a)({},e),{},{loading:!1});default:return e}},kt={token:null,userId:null,error:null,loading:!1},It=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re:return Object(M.a)(Object(M.a)({},e),{},{error:null,loading:!0});case ce:return Object(M.a)(Object(M.a)({},e),{},{token:t.token,userId:t.userId,error:null,loading:!1});case ae:return Object(M.a)(Object(M.a)({},e),{},{error:t.error,loading:!1});case ie:return Object(M.a)(Object(M.a)({},e),{},{token:null,userId:null});default:return e}},yt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.d,Nt=Object(l.c)({sandwichBuilder:vt,order:St,auth:It}),wt=Object(l.e)(Nt,yt(Object(l.a)(u.a)));o.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(d.a,{store:wt,children:Object(r.jsx)(s.a,{basename:"/sandwich-app",children:Object(r.jsx)(xt,{})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[94,1,2]]]);
//# sourceMappingURL=main.8e28aaba.chunk.js.map